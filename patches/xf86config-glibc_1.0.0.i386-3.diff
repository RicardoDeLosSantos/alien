--- xf86config-glibc-1.0.0.i386.orig/debian/changelog
+++ xf86config-glibc-1.0.0.i386/debian/changelog
@@ -0,0 +1,30 @@
+xf86config-glibc (1.0.0.i386-3) unstable; urgency=low
+
+  * postrm: Old diversions code moved to preinst
+  * preinst: Force the user to remove previous package if is (1.0.0.i386-1)
+
+ -- Agustín Martín Domingo <agmartin@aq.upm.es>  Wed,  5 May 1999 15:03:25 +0200
+
+xf86config-glibc (1.0.0.i386-2) unstable; urgency=low
+
+  * Changed section from unknown to alien
+  * Cards: renamed to Ci740 to avoid diversion
+  * xf86config: patched to look for Ci740 and renamed to xf86config-i740
+  * Added xf86config wrapper script to warn about xf86config diversion
+  * postrm: Cleared old diversions if existing and renamed the remaining
+    to xf86config.xfree86
+  * preinst: removed diversion of Cards and renamed that of xf86config
+    to xf86conig.xfree86
+
+ -- Agustín Martín Domingo <agmartin@aq.upm.es>  Wed,  5 May 1999 12:00:06 +0200
+
+xf86config-glibc (1.0.0.i386-1) unstable; urgency=low
+
+  * Added preinst and postrm for xf86config and Card files diversion
+  * Converted from Slackware .tgz binary format to debian
+
+ -- Agustín Martín Domingo <agmartin@aq.upm.es>  Thu, 15 Apr 1999 15:47:14 +0200
+
+Local variables:
+mode: debian-changelog
+End:
--- xf86config-glibc-1.0.0.i386.orig/debian/control
+++ xf86config-glibc-1.0.0.i386/debian/control
@@ -0,0 +1,14 @@
+Source: xf86config-glibc
+Section: alien
+Priority: extra
+Maintainer: Agustín Martín Domingo <agmartin@aq.upm.es>
+
+Package: xf86config-i740g
+Architecture: any
+Depends: ${shlibs:Depends}, xbf-i740-glibc
+Description: xf86config for XBF-i740 binary-only X server
+ xf86 configuration tool for the binary-only XBF-i740 X server
+ for Intel i740 chipset based graphic cards
+ .
+ Diverts the XFree86 xf86config to xf86config.xfree86
+
--- xf86config-glibc-1.0.0.i386.orig/debian/copyright
+++ xf86config-glibc-1.0.0.i386/debian/copyright
@@ -0,0 +1,4 @@
+This package was debianized by the alien program by converting
+a binary Slackware tgz Package on Thu, 15 Apr 1999 15:47:14 +0200.
+
+Copyright: Unknown
--- xf86config-glibc-1.0.0.i386.orig/debian/rules
+++ xf86config-glibc-1.0.0.i386/debian/rules
@@ -0,0 +1,64 @@
+#!/usr/bin/make -f
+# debian/rules that uses debhelper and alien
+# GNU copyright 1997 by Joey Hess.
+
+# Uncomment this to turn on verbose mode.
+#export DH_VERBOSE=1
+
+build:
+	dh_testdir
+	# Nothing to do.
+
+clean:
+	dh_testdir
+	dh_testroot
+	dh_clean
+
+# Build architecture-independent files here.
+binary-indep: build
+# We have nothing to do by default.
+
+# Build architecture-dependent files here.
+binary-arch: build
+#	dh_testversion
+	dh_testdir
+	dh_testroot
+	dh_clean -k
+	dh_installdirs
+	install -d debian/tmp
+	cp -a `ls |grep -v debian` debian/tmp
+#
+# If you need to move files around in debian/tmp or do some
+# binary patching ... Insert it here
+#
+# Patching the binary to look for /usr/X11R6/lib/X11/Ci740 instead of
+#  /usr/X11R6/lib/X11/Cards
+	( cd debian/tmp/usr/X11R6/bin ; sed 's/\/X11\/Cards/\/X11\/Ci740/g' xf86config > xf86config-i740 ; chmod +x xf86config-i740 ; rm xf86config )
+# Renaming /usr/X11R6/lib/X11/Cards to /usr/X11R6/lib/X11/Ci740
+	( cd debian/tmp/usr/X11R6/lib/X11/ ; mv Cards Ci740 )
+	( install debian/xf86config debian/tmp/usr/X11R6/bin/xf86config )
+#
+	dh_installdocs
+	dh_installexamples
+	dh_installmenu
+#	dh_installinit
+	dh_installcron
+	dh_installmanpages
+#	dh_undocumented
+	dh_installchangelogs
+#	dh_strip
+	dh_compress
+	dh_fixperms
+	dh_suidregister
+	dh_installdeb
+	dh_shlibdeps
+	dh_gencontrol
+	dh_makeshlibs
+	dh_md5sums
+	dh_builddeb
+
+source diff:                                                                  
+	@echo >&2 'source and diff are obsolete - use dpkg-source -b'; false
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary
--- xf86config-glibc-1.0.0.i386.orig/debian/preinst
+++ xf86config-glibc-1.0.0.i386/debian/preinst
@@ -0,0 +1,30 @@
+#!/bin/sh -e 
+
+# Fixing some previous mess
+
+if [ upgrade = "$1" ]; then
+    if [ -e /usr/X11R6/lib/X11/Ci740 -a -e /usr/X11R6/bin/xf86config-i740 ]; then
+	echo "OK, preserving old diversions"
+    else 
+	echo "--------------------------------------------------------------"
+	echo " /usr/X11R6/lib/X11/Ci740 or /usr/X11R6/bin/xf86config-i740"
+	echo "do not exist." 
+	echo "That means you are upgrading xf86config-i740g_1.0.0.i386-1.deb"
+	echo ""
+	echo " Due to changes in the diversions YOU HAVE FIRST TO REMOVE"
+	echo " PREVIOUS PACKAGE  with dpkg -r xf86config-i740g"
+	echo "--------------------------------------------------------------"
+	exit 1
+    fi
+fi
+
+if [ install = "$1" ]; then
+   dpkg-divert --package  xf86config-i740g --add --rename \
+	--divert /usr/X11R6/bin/xf86config.xfree86 /usr/X11R6/bin/xf86config
+fi
+
+
+
+
+
+
--- xf86config-glibc-1.0.0.i386.orig/debian/patch-xf86config
+++ xf86config-glibc-1.0.0.i386/debian/patch-xf86config
@@ -0,0 +1 @@
+sed 's/\/X11\/Cards/\/X11\/Ci740/g' xf86config > xf86config-i740
--- xf86config-glibc-1.0.0.i386.orig/debian/postrm
+++ xf86config-glibc-1.0.0.i386/debian/postrm
@@ -0,0 +1,9 @@
+#!/bin/sh -e
+
+
+# Now the real diversion
+
+if [ remove = "$1" ]; then
+  dpkg-divert --package xf86config-i740g --remove --rename \
+	--divert /usr/X11R6/bin/xf86config.xfree86 /usr/X11R6/bin/xf86config
+fi
--- xf86config-glibc-1.0.0.i386.orig/debian/preinst.0
+++ xf86config-glibc-1.0.0.i386/debian/preinst.0
@@ -0,0 +1,32 @@
+#!/bin/sh -e 
+
+# Fixing some previous mess
+
+if [ upgrade = "$1" ]; then
+    if [ -e /usr/X11R6/lib/X11/Ci740 ]; then
+	echo "OK, preserving old diversions"
+    else 
+	echo "Removing obsolete diversion of Cards to Cards.dpkg-old"
+	rm /usr/X11R6/lib/X11/Cards 
+	dpkg-divert --package xf86config-i740g --remove --rename \
+	  --divert /usr/X11R6/lib/X11/Cards.dpkg-old /usr/X11R6/lib/X11/Cards 
+    fi
+
+    if [ -x /usr/X11R6/bin/xf86config-i740 ]; then 
+	echo "OK, preserving old diversions"
+    else
+	echo "Removing obsolete diversion of xf86config to xf86config.dpkg-old"
+	rm /usr/X11R6/bin/xf86config
+	dpkg-divert --package xf86config-i740g --remove --rename \
+	  --divert /usr/X11R6/bin/xf86config.dpkg-old /usr/X11R6/bin/xf86config
+	dpkg-divert --package  xf86config-i740g --add --rename \
+	  --divert /usr/X11R6/bin/xf86config.xfree86 /usr/X11R6/bin/xf86config
+    fi
+fi
+
+if [ install = "$1" ]; then
+   dpkg-divert --package  xf86config-i740g --add --rename \
+	--divert /usr/X11R6/bin/xf86config.xfree86 /usr/X11R6/bin/xf86config
+fi
+
+
--- xf86config-glibc-1.0.0.i386.orig/debian/xf86config
+++ xf86config-glibc-1.0.0.i386/debian/xf86config
@@ -0,0 +1,60 @@
+#!/bin/sh
+
+# A wrapper to warn about the diversion of xf86config
+
+
+message="\
+This is a wrapper script to remind you that you are using the 
+xf86config-i740 script provided by RedHat when XBF-i740 was a 
+binary-only server. The original XFree86 xf86config has been 
+diverted to xf86config.xfree86 by the package xfree86-i740g.
+
+Since Intel has released the i740 specs to the XFree team, there
+will probably be native support for this card in the next XFree86
+release (XFree86 4), and this script will only be valid if you want 
+to configure the binary-only XBF-i740 server, with the Card database
+probably outdated.
+ 
+For any other use you will need to use the script 
+xf86config.xfree86 or XF86Setup.
+" 
+warning_msg="WARNING!"
+
+if [ "$LANG" ]; then
+    LINGUA=`echo $LANG | sed -e 's/_.*//'`
+    if [ "$LINGUA" = "es" ]; then
+message="\
+Este es un script filtro para recordar que se está utilizando el 
+script xf86config-i740 suministrado por RedHat cuando XBF-i740 era
+un servidor sólo-binario. El xf86config original de las XFree86
+ha sido redirigido a xf86config.xfree86 por el paquete xfree86-i740g.
+
+Ya que Intel ha suministrado las especificaciones de las i740 al equipo
+de las XFree, probablemente haya soporte nativo para esta tarjeta en la
+siguiente edición de las XFree86 (XFree86 4), y este script tendrá 
+sentido únicamente para configurar el servidor sólo-binario XBF-i740,
+con la base de datos de tarjetas i740 posiblemente anticuada.
+ 
+Para cualquier otro uso será necesario utilizar 
+xf86config.xfree86 o XF86Setup 
+" 
+warning_msg="¡ATENCIÓN!"
+    fi
+fi
+
+if [ -x /usr/bin/whiptail ]; then
+    whiptail --clear --title "$warning_msg" --msgbox "$message" 0 0
+    echo "Using whiptail"
+elif [ -x /usr/bin/dialog ]; then
+    dialog --clear --title "$warning_msg" --msgbox "$message" 0 0
+    echo "Using dialog"
+else
+    echo $warning_msg
+    echo "---------------------------------"
+    echo $message | fmt
+    echo "---------------------------------"
+    echo "Press enter to continue"
+    read reply
+fi
+
+xf86config-i740
--- xf86config-glibc-1.0.0.i386.orig/debian/preinst.pruebas
+++ xf86config-glibc-1.0.0.i386/debian/preinst.pruebas
@@ -0,0 +1,22 @@
+#!/bin/sh -e 
+
+action="$1"
+divext="dpkg-old"
+
+default_divert ()
+{
+if [ install = "$action" -o ! -e "$1" ]; then
+   dpkg-divert --package $package  --add --rename \
+	--divert $1.$divext $1
+fi
+}
+
+default_divert /usr/X11R6/bin/xf86config
+default_divert /usr/X11R6/lib/X11/Cards
+
+#if [ install = "$1" ]; then
+#   dpkg-divert --package  xf86config-i740g --add --rename \
+#	--divert /usr/X11R6/bin/xf86config.dpkg-old /usr/X11R6/bin/xf86config
+#   dpkg-divert --package  xf86config-i740g --add --rename \
+#	--divert /usr/X11R6/lib/X11/Cards.dpkg-old /usr/X11R6/lib/X11/Cards
+#fi
